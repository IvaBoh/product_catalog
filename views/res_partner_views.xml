<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="res_partner_view_form" model="ir.ui.view">
        <field name="name">res.partner.view.form</field>
        <field name="model">res.partner</field>
        <field name="arch" type="xml">
            <form string="Contact">
                <field name="is_company" invisible="1"/>
                <field name="type" invisible="1"/>
                <field name="avatar_128" invisible="1"/>
                <field name="image_1920" widget='image' class="oe_avatar" options='{"preview_image": "avatar_128"}'/>
                <div class="oe_title">
                    <field name="company_type" options="{'horizontal': true}" widget="radio" groups="base.group_no_one"/>
                    <h1>
                        <field id="company" name="name" default_focus="1" placeholder="e.g. Lumber Inc" attrs="{'required' : [('type', '=', 'contact'),('is_company','=', True)], 'invisible': [('is_company','=', False)]}"/>
                        <field id="individual" name="name" default_focus="1" placeholder="e.g. Brandom Freeman" attrs="{'required' : [('type', '=', 'contact'),('is_company','=', False)], 'invisible': [('is_company','=', True)]}"/>
                    </h1>
                    <field name="parent_id"
                           widget="res_partner_many2one"
                           placeholder="Company Name..."
                           domain="[('is_company', '=', True)]" context="{'default_is_company': True, 'show_vat': True}"
                           attrs="{'invisible': [('is_company','=', True)]}"/>
                </div>
                <group>
                    <field name="function" placeholder="e.g. Sales Director" attrs="{'invisible': [('is_company','=', True)]}"/>
                    <field name="user_ids" invisible="1"/>
                    <field name="email" widget="email" context="{'gravatar_image': True}" required="context.get('force_email', False)" attrs="{'required': [('user_ids','!=', [])]}"/>
                    <field name="phone" widget="phone" options="{'enable_sms': false}"/>
                    <field name="mobile" widget="phone" options="{'enable_sms': false}"/>
                </group>
            </form>
        </field>
    </record>

    <record id="res_partner_view_tree" model="ir.ui.view">
        <field name="name">res.partner.view.tree</field>
        <field name="model">res.partner</field>
        <field eval="8" name="priority"/>
        <field name="arch" type="xml">
            <tree string="Contacts" sample="1" multi_edit="1">
                <field name="display_name" string="Name"/>
                <field name="function" invisible="1"/>
                <field name="phone" class="o_force_ltr" optional="show"/>
                <field name="email" optional="show"/>
                <field name="user_id" optional="show" widget="many2one_avatar_user" domain="[('share', '=', False)]"/>
                <field name="city" optional="show"/>
                <field name="state_id" optional="hide" readonly="1"/>
                <field name="country_id" optional="show" readonly="1"/>
                <field name="vat" optional="hide" readonly="1"/>
                <field name="category_id" optional="hide" widget="many2many_tags" options="{'color_field': 'color'}"/>
                <field name="company_id" groups="base.group_multi_company" readonly="1"/>
                <field name="is_company" invisible="1"/>
                <field name="parent_id" invisible="1" readonly="1"/>
                <field name="active" invisible="1"/>
            </tree>
        </field>
    </record>

    <record id="res_partner_view_kanban_custom" model="ir.ui.view">
        <field name="name">res.partner.view.kanban.custom</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.res_partner_kanban_view"/>
        <field name="arch" type="xml">
            <xpath expr="//kanban" position="attributes">
                <attribute name="default_group_by">category_id</attribute>
            </xpath>
        </field>
    </record>

    <record id="res_partner_action" model="ir.actions.act_window">
        <field name="name">Suppliers</field>
        <field name="res_model">res.partner</field>
        <field name="view_mode">tree,form,kanban</field>
    </record>


    <menuitem id="supplier_menu"
              name="Suppliers"
              parent="product_catalog_main_menu"
              action="res_partner_action"
              sequence="10"/>

</odoo>
